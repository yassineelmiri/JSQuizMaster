<style>
    .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa; 
        border-radius: 10px;
        box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
    }

    .form-label {
        font-weight: bold;
    }

    .btn-primary {
        background-color: #007bff;
        float: right;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    .btn-primary:hover {
        background-color: #0056b3;
    }

    input:focus {
        box-shadow: 0px 0px 5px rgba(0, 123, 255, 0.5);
        border-color: #007bff;
    }

    .invalid-feedback {
        color: red;
    }

    .form-control.is-invalid {
        border-color: #dc3545;
    }

    .form-control.is-valid {
        border-color: #28a745;
    }
</style>

<div class="d-flex flex-column justify-content-center align-items-center">
    <h1 class="text-center fs-2 fw-bold font-monospace">
        Welcome to <span class="text-primary">JSSmartExam</span>
    </h1>

    <div class="container mt-5 p-4">
        <div class="card shadow">
            <div class="card-body">
                <form action="/logined" method="post" class="row g-3 needs-validation" novalidate id="loginForm">
                    <div class="col-md-12">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" name="email" id="email" required>
                        <div class="invalid-feedback">
                            Please provide a valid email address.
                        </div>
                    </div>
                    <div class="col-md-12">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" name="password" id="password" required>
                        <div class="invalid-feedback">
                            Password must be at least 6 characters long and contain at least one letter and one number, with no spaces or special characters.
                        </div>
                    </div>
                    <div class="col-md-12">
                        <label for="role" class="form-label">Role</label>
                        <select name="role" class="form-control" id="role" required>
                            <option value="Formateur">Formateur</option>
                            <option value="Student">Student</option>
                        </select>
                    </div>
                    <div class="col-12 d-flex justify-content-between p-4 align-items-center">
                        <button class="btn btn-primary" type="submit">Log in</button>&nbsp;
                        <a href="/register" class="link-primary">Don't have an account?</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('loginForm');

        form.addEventListener('submit', function (event) {
            let isValid = true;

            const email = document.getElementById('email');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email.value)) {
                email.classList.add('is-invalid');
                isValid = false;
            } else {
                email.classList.remove('is-invalid');
                email.classList.add('is-valid');
            }

            const password = document.getElementById('password');
            const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
            if (!passwordRegex.test(password.value)) {
                password.classList.add('is-invalid');
                isValid = false;
            } else {
                password.classList.remove('is-invalid');
                password.classList.add('is-valid');
            }

            if (!isValid) {
                event.preventDefault();
                event.stopPropagation();
            }

            form.classList.add('was-validated');
        });
    });
</script>
